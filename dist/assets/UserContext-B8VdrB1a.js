import{r as u,j as e,f as n}from"./index-BamLPRPK.js";import{L as c}from"./loader-rO1jojzY.js";import{u as i}from"./useQuery-CMmpEYOC.js";import{a as m}from"./axiosInstance-D6jcOrH_.js";const f=s=>i({queryKey:["Fetch User",s],queryFn:async()=>(await m.get(`auth/users/${s}`)).data,staleTime:5*60*1e3}),x=u.createContext(void 0),j=({children:s})=>{const t=localStorage.getItem("user"),r=localStorage.getItem("business_id");if(!t||!r)return e.jsx(n,{to:"/auth"});const{isLoading:a,data:o}=f(JSON.parse(t));return a?e.jsx("div",{className:"w-full h-screen flex items-center justify-center",children:e.jsx(c,{})}):!a&&!o?e.jsx(n,{to:"/auth"}):e.jsx(x.Provider,{value:{user:o},children:s})};export{j as U,x as a};
