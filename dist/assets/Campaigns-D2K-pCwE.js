import{i as y,f as v,r as j,j as e,B as d,h as b,m as w,n as g,l as N,L,e as T,E as k}from"./index-Cr2kMiKP.js";import{F as P}from"./index-BjrUUlxr.js";import{T as D,a as A,b as m,c as a,d as E,e as i}from"./table-CuuTJ8wY.js";import{I as F}from"./input-CKY4rb-M.js";import{P as _,a as V,H as z,b as H}from"./popover-Di6TEgVE.js";import{c as I,a as S}from"./Codes-BOd_6azU.js";import"./Combination-ywCo4RYM.js";import"./index-DDtE2BTA.js";function Y({data:r}){const[t,f]=y({type:"",value:""}),C=v(),[x,h]=j.useState(r),p=(s,l)=>{const u={...Object.fromEntries(t.entries()),[s]:l};f(u)};j.useEffect(()=>{(()=>{const l=t.get("type"),o=t.get("value");if(!l&&!o){h(r);return}const u=r==null?void 0:r.filter(c=>{if(!l&&o)return c.title.toLowerCase().includes(o.toLowerCase());if(!o&&l)return l.toLowerCase()===c.type_of.toLowerCase();if(o&&l)return l.toLowerCase()===c.type_of.toLowerCase()&&c.title.toLowerCase().includes(o.toLowerCase())});h(u)})()},[t]);const n=s=>{C(`/app/campaigns/${s}`)};return e.jsxs("div",{children:[e.jsxs("div",{className:"w-full flex justify-between items-center mb-6",children:[e.jsxs("div",{className:"basis-1/4 flex items-center gap-2",children:[e.jsx("p",{className:"",children:"Filter by:"}),e.jsx(d,{variant:"outline",className:"p-0 h-auto",children:e.jsxs("select",{className:"bg-transparent outline-hidden h-10 px-2",onChange:s=>p("type",s.target.value),defaultValue:t.get("type")??"",children:[e.jsx("option",{value:"",children:"All Types"}),e.jsx("option",{value:"direct",children:"Direct"}),e.jsx("option",{value:"upload",children:"Upload"})]})})]}),e.jsx(F,{type:"text",placeholder:"Search by campaign title...",className:"max-w-[300px]",defaultValue:t.get("value")||"",onChange:s=>p("value",s.target.value)}),e.jsx("div",{className:"basis-1/4 flex items-center justify-end gap-2"})]}),e.jsxs(D,{children:[e.jsx(A,{children:e.jsxs(m,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Title"}),e.jsx(a,{children:"Leads"}),e.jsx(a,{children:"Created At"}),e.jsx(a,{children:"Type"}),e.jsx(a,{children:"Contacted"}),e.jsx(a,{children:"Converted"}),e.jsx(a,{children:"Actions"})]})}),e.jsx(E,{children:x==null?void 0:x.map(s=>e.jsxs(m,{children:[e.jsx(i,{onClick:()=>n(s.id),children:s.id}),e.jsx(i,{onClick:()=>n(s.id),children:s.title}),e.jsx(i,{onClick:()=>n(s.id),children:s.leads}),e.jsx(i,{onClick:()=>n(s.id),children:b(s.created).format("MMM DD, YYYY hh:mm")}),e.jsx(i,{onClick:()=>n(s.id),children:s.type_of}),e.jsx(i,{onClick:()=>n(s.id),children:s.contacted_leads}),e.jsx(i,{onClick:()=>n(s.id),children:s.converted_leads}),e.jsx(i,{children:s.type_of.toLowerCase()==="upload"?e.jsx(d,{variant:"outline",size:"sm",className:"rounded-full text-xs h-auto py-1 px-3",onClick:()=>w(s.id),children:"Launch Campaign"}):e.jsxs(_,{children:[e.jsx(V,{className:"h-auto p-2 w-auto rounded-md text-inherit hover:bg-gray-200",children:e.jsx(z,{})}),e.jsxs(H,{className:"w-auto flex flex-col gap-2",children:[e.jsx(d,{variant:"outline",size:"sm",className:"rounded-full text-xs h-auto py-1 px-3",onClick:()=>I(s.id),children:"Copy code as popup"}),e.jsx(d,{variant:"outline",size:"sm",className:"rounded-full text-xs h-auto py-1 px-3",onClick:()=>S(s.id),children:"Copy code inline form"}),e.jsx(d,{variant:"outline",size:"sm",className:"rounded-full text-xs h-auto py-1 px-3",children:"Edit form"})]})]})})]},s.id))})]})]})}function G(){const{isLoading:r,data:t}=g();return e.jsxs(e.Fragment,{children:[e.jsx(N,{title:"Campaigns",subtitle:"All your campaigns in one place",button:e.jsx(L,{to:"/campaigns/new",children:e.jsxs(d,{className:"pry-btn gap-1",children:[e.jsx(P,{})," Add New Campaign"]})})}),e.jsx("div",{className:"p-4 rounded-2xl bg-white",children:r?e.jsx("div",{className:"w-full h-[300px] flex items-center justify-center",children:e.jsx(T,{})}):(t==null?void 0:t.length)>0?e.jsx(Y,{data:t}):e.jsx(k,{})})]})}export{G as default};
