import{G as b,j as e,B as c,L as v,v as w,r as m,C as k,_ as h,O as F}from"./index-BYm0heM1.js";import{I as d}from"./input-BAm2WIgo.js";import{c as B}from"./index-DuVHhtZ9.js";import{A as T,a as A,b as L,c as I,e as S}from"./alert-dialog-DGbS2dWL.js";import{c as z,a as D,m as E}from"./Codes-CqKRex2M.js";import"./index-CK6rgK6y.js";import"./Combination-gmHXTl4U.js";function u(l){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"rect",attr:{width:"336",height:"336",x:"128",y:"128",fill:"none",strokeLinejoin:"round",strokeWidth:"32",rx:"57",ry:"57"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m383.5 128 .5-24a56.16 56.16 0 0 0-56-56H112a64.19 64.19 0 0 0-64 64v216a56.16 56.16 0 0 0 56 56h24"},child:[]}]})(l)}function P(l){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 176v-40a40 40 0 0 0-40-40H88a40 40 0 0 0-40 40v240a40 40 0 0 0 40 40h192a40 40 0 0 0 40-40v-40m64-160 80 80-80 80m-193-80h273"},child:[]}]})(l)}function G({inviteModalOpen:l,campaign_id:a}){const x=E(a);return e.jsx(T,{open:l,children:e.jsxs(A,{children:[e.jsxs(L,{children:[e.jsx(I,{className:"text-pry-clr text-xl font-semibold",children:"View Code"}),e.jsx(S,{children:"Copy the code below and paste into your website to display the contact form as a popup. Website reload may be required"})]}),e.jsx("div",{className:"w-full rounded-md border-2 border-gray-200 p-2 h-[100px] overflow-y-scroll text-xs bg-gray-100",children:x}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(c,{size:"sm",variant:"outline",className:"hover:bg-[#d8e0fb] font-normal gap-2",onClick:()=>z(a),children:[e.jsx(u,{className:"text-md"}),"Copy popup code"]}),e.jsxs(c,{size:"sm",variant:"outline",className:"hover:bg-[#d8e0fb] font-normal gap-2",onClick:()=>D(a),children:[e.jsx(u,{className:"text-md"}),"Copy inline- code"]}),e.jsx(v,{to:"/app/campaigns",className:"w-full",children:e.jsxs(c,{size:"sm",className:"w-full pry-btn gap-2",children:[e.jsx(P,{className:"text-lg"}),"Go to Campaigns"]})})]})]})})}function J(){const{campaign_id:l}=w(),[a,x]=m.useState({title:"",subtitle:"",btnText:"",redirectUrl:""}),[s,f]=m.useState({fullName:!0,email:!0,phone:!0,location:!1}),[n,j]=m.useState({bgColor:"",inputBg:"",textClr:"",btnText:"",btnBg:""}),[g,N]=m.useState(!1),p={texts:[{name:"title",id:"formTitle",tag:"Form Title"},{name:"subtitle",id:"formSubitle",tag:"Form Subtitle"},{name:"btnText",id:"formBtnText",tag:"Button Text"},{name:"redirectUrl",id:"formRedirectUrl",tag:"Redirect Url"}],checks:[{name:"fullName",id:"formFullname",tag:"Full Name"},{name:"email",id:"formEmail",tag:"Email Address"},{name:"phone",id:"formPhone",tag:"Phone Number"},{name:"location",id:"formLocation",tag:"Location"}],colors:[{name:"bgColor",id:"formBgColor",tag:"Background Color"},{name:"inputBg",id:"formInputBg",tag:"Input Field Background"},{name:"textClr",id:"formTextClr",tag:"Text Color"},{name:"btnText",id:"formBtnText",tag:"Button Text Color"},{name:"btnBg",id:"formBtnBg",tag:"Button Color"}]},y={styles:{textClr:n.textClr,bodyClr:n.bgColor,btnBG:n.btnBg,btnTextClr:n.btnText,bgClr:n.bgColor,inputBG:n.inputBg},texts:{title:a.title,subtitle:a.subtitle,btnText:a.btnText},fields:[s.email?"email":"",s.fullName?"fullName":"",s.phone?"phone":"",s.location?"location":""],redirect:{url:a.redirectUrl||""}},C=async()=>{const t=h.loading("Creating form");await F.post(`/campaign/${l}/form-design/`,{design:JSON.stringify(y)}).then(()=>{h.success("Form created successully",{id:t}),N(!0)}).catch(r=>{console.log(r),h.error(r.response.data[0]||"Something went wrong. Please retry",{id:t})})};return e.jsxs(e.Fragment,{children:[e.jsx(k,{}),g&&e.jsx(G,{inviteModalOpen:g,campaign_id:l}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-header text-2xl font-semibold",children:"Customize your form"}),e.jsxs(c,{className:"pry-btn gap-2",onClick:C,children:[e.jsx(B,{className:"text-lg"})," Create Form"]})]}),e.jsxs("div",{className:"wizard-box w-full flex rounded-2xl border-[1px] border-gray-300 mt-6 overflow-hidden",children:[e.jsx("div",{className:"basis-2/3 p-4 overflow-y-scroll flex items-center justify-center min-h-full",children:e.jsxs("div",{className:"w-full max-w-[600px] mx-auto bg-body-clr bg-gray-50 px-4 py-8 rounded-lg",children:[e.jsx("h1",{className:"text-header text-xl font-semibold uppercase text-center",children:a.title||"form title"}),e.jsx("p",{className:"text-center my-4",children:a.subtitle||"Form Subtitle"}),s.fullName&&e.jsxs("label",{className:"block mb-2",children:[e.jsx("p",{children:"Full Name"}),e.jsx(d,{type:"text",disabled:!0,placeholder:"e.g John Doe",className:"bg-transparent border-gray-300"})]}),s.email&&e.jsxs("label",{className:"block mb-2",children:[e.jsx("p",{children:"Email Address"}),e.jsx(d,{type:"text",disabled:!0,placeholder:"e.g johndoe@email.com",className:"bg-transparent border-gray-300"})]}),s.phone&&e.jsxs("label",{className:"block mb-2",children:[e.jsx("p",{children:"Phone Number"}),e.jsx(d,{type:"text",disabled:!0,placeholder:"09011223344",className:"bg-transparent border-gray-300"})]}),s.location&&e.jsxs("label",{className:"block mb-2",children:[e.jsx("p",{children:"Location"}),e.jsx(d,{type:"text",disabled:!0,placeholder:"e.g Lagos, Nigeria",className:"bg-transparent border-gray-300"})]}),e.jsx(c,{disabled:!0,className:"w-full uppercase bg-accent-clr",children:a.btnText||"call me now"})]})}),e.jsxs("div",{className:"basis-1/3 bg-white p-4 overflow-y-scroll",children:[e.jsx("h1",{className:"text-header text-xl mb-6 font-semibold",children:"Form Settings"}),e.jsx("div",{className:"px-3",children:p.texts.map((t,r)=>e.jsxs("label",{htmlFor:t.id,className:"block my-4",children:[e.jsx("p",{className:"text-sm",children:t.tag}),e.jsx(d,{type:"text",className:"h-8",id:t.id,name:t.name,onChange:o=>x(i=>({...i,[o.target.name]:o.target.value}))})]},r))}),e.jsx("hr",{className:"my-6"}),e.jsx("p",{children:"Check the options below for fields to display"}),e.jsx("div",{className:"px-3",children:p.checks.map((t,r)=>e.jsxs("label",{htmlFor:t.id,className:"flex gap-2 items-center my-2",children:[e.jsx("input",{type:"checkbox",name:t.name,id:t.id,defaultChecked:s[t.name],onChange:o=>f(i=>({...i,[o.target.name]:o.target.checked}))}),e.jsx("p",{className:"text-sm",children:t.tag})]},r))}),e.jsx("hr",{className:"my-6"}),e.jsx("p",{children:"Edit and customize form aesthetics with the options below"}),e.jsx("div",{className:"px-3",children:p.colors.map((t,r)=>e.jsxs("label",{htmlFor:t.id,className:"flex gap-2 items-center my-2",children:[e.jsx("input",{type:"color",name:t.name,id:t.id,defaultValue:n[t.name],onChange:o=>j(i=>({...i,[o.target.name]:o.target.value}))}),e.jsx("p",{className:"text-sm",children:t.tag})]},r))})]})]})]})}export{J as default};
