import{r,j as e,b as j,U as g,B as u,_ as i,s as N,l as w,L as p}from"./index-By6uAPBI.js";import{a as y}from"./index-DPyLRDT2.js";import{A as v,a as k,b as S,c as C,d as A,e as D}from"./alert-dialog-BnsfyrSr.js";import{I as F}from"./input-D8bmPQbO.js";import{I}from"./index-Rirbjr3D.js";import"./index-CbbDvytT.js";import"./Combination-B3u6G-S_.js";const x=r.forwardRef(({className:t,...s},l)=>e.jsx("textarea",{className:j("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:l,...s}));x.displayName="Textarea";function P({open:t,setOpen:s}){var c;const l=(c=r.useContext(g))==null?void 0:c.user,[a,n]=r.useState(!1),b=async d=>{n(!0);const m=i.loading("Creating support ticket");d.preventDefault();const h=d.target,o=new FormData(h);o.append("email",l.email),o.append("user",l.id);const f=Object.fromEntries(o);await N.post("/support/",f).then(()=>{i.success("Support ticket created",{id:m})}).catch(()=>{i.error("Something went wrong. Please retry",{id:m})}).finally(()=>{n(!1)})};return e.jsx(v,{open:t,onOpenChange:s,children:e.jsxs(k,{children:[e.jsx(S,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(C,{children:"Report a Problem"}),e.jsx(A,{className:"p-0 h-auto rounded-full bg-transparent border-none absolute top-5 right-5",children:e.jsx(I,{className:"text-xl hover:text-red-clr"})})]})}),e.jsx(D,{className:"text-text-clr",children:"Having problems fill out our report form and we'll be with you in no time!."}),e.jsx("div",{className:"",children:e.jsxs("form",{onSubmit:b,className:"",children:[e.jsxs("label",{htmlFor:"subject",className:"block mb-4",children:[e.jsx("p",{className:"text-sm",children:"Problem Subject"}),e.jsx(F,{type:"text",placeholder:"e.g. I cannot invite a user to a campaign",className:"w-full",name:"subject",id:"subject",disabled:a,required:!0})]}),e.jsxs("label",{htmlFor:"description",className:"block mb-4",children:[e.jsx("p",{className:"text-sm",children:"Problem Description"}),e.jsx(x,{className:"w-full resize-none",name:"description",id:"description",required:!0,disabled:a})]}),e.jsxs("label",{htmlFor:"file",className:"block max-w-max",children:[e.jsx("input",{type:"file",name:"attachments",id:"file",accept:"image/*",hidden:!0,disabled:a}),e.jsx("p",{className:`block mb-4 text-sm text-pry-clr italic ${a?"cursor-not-allowed":"cursor-pointer"}`,children:"Attach Screenshots"})]}),e.jsx(u,{type:"submit",className:"pry-btn w-full",disabled:a,children:"Submit"})]})})]})})}function U(){const[t,s]=r.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx(w,{title:"Support",subtitle:"Get support, report problems and make suggestions"}),e.jsx(P,{open:t,setOpen:s}),e.jsxs("div",{className:"w-full grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"w-full bg-white rounded-xl p-4",children:[e.jsx("p",{className:"font-semibold",children:"Get Help Now"}),e.jsx("p",{className:"text-sm my-4",children:"Having problems? Fill out our report form and we'll be with you in no time!."}),e.jsx(u,{className:"pry-btn rounded-md mt-4",size:"xs",onClick:()=>s(!0),children:"Fill Report Form"})]}),e.jsxs("div",{className:"w-full bg-white rounded-xl p-4",children:[e.jsx("p",{className:"font-semibold",children:"Self Help"}),e.jsx("p",{className:"text-sm my-4",children:"Search for answers in our community knowledge base."}),e.jsxs("div",{className:"flex text-sm gap-1 pt-4",children:[e.jsx("p",{className:"text-sm",children:"Check out our"}),e.jsxs(p,{to:"#",className:"text-pry-clr font-medium",children:[" ","Customer Portal FAQ"]})]})]}),e.jsxs("div",{className:"w-full bg-white rounded-xl p-4",children:[e.jsx("p",{className:"font-semibold",children:"Call Us"}),e.jsxs("p",{className:"text-sm my-4",children:["Phone Support Hours: ",e.jsx("br",{}),"9 AM - 6 PM WAT - 7 days a week"]}),e.jsxs("div",{className:"flex gap-2 items-center pt-4",children:[e.jsx(y,{className:"text-red-500"}),e.jsx(p,{to:"tel:+2349123456789",className:"text-sm",children:"(+234) 9123-456-7890"})]})]})]})]})}export{U as default};
