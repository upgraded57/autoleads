import{R as I,o as D,j as e,S as $,r as i,b as _,p as Ce,q as ye,h as Ie,E as Re,_ as E,s as we,t as Ne,e as Fe,l as Se}from"./index-ger-BTh1.js";import{u as Y,c as C,a as q,P as Ae}from"./Combination-CBJd--lk.js";import{c as O,u as Ee,P as S}from"./index-tJc6JJqt.js";import{T as _e,a as Me,b as B,c as N,d as Pe,e as F}from"./table-BERZKBKj.js";import{P as ke,a as De,H as Le,b as Oe}from"./popover-CUVoDoHX.js";function Ge(t){const o=t+"CollectionProvider",[n,r]=O(o),[s,l]=n(o,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:a,children:b}=j,T=I.useRef(null),f=I.useRef(new Map).current;return e.jsx(s,{scope:a,itemMap:f,collectionRef:T,children:b})};c.displayName=o;const m=t+"CollectionSlot",x=I.forwardRef((j,a)=>{const{scope:b,children:T}=j,f=l(m,b),v=D(a,f.collectionRef);return e.jsx($,{ref:v,children:T})});x.displayName=m;const d=t+"CollectionItemSlot",p="data-radix-collection-item",u=I.forwardRef((j,a)=>{const{scope:b,children:T,...f}=j,v=I.useRef(null),R=D(a,v),w=l(d,b);return I.useEffect(()=>(w.itemMap.set(v,{ref:v,...f}),()=>void w.itemMap.delete(v))),e.jsx($,{[p]:"",ref:R,children:T})});u.displayName=d;function g(j){const a=l(t+"CollectionConsumer",j);return I.useCallback(()=>{const T=a.collectionRef.current;if(!T)return[];const f=Array.from(T.querySelectorAll(`[${p}]`));return Array.from(a.itemMap.values()).sort((w,A)=>f.indexOf(w.ref.current)-f.indexOf(A.ref.current))},[a.collectionRef,a.itemMap])}return[{Provider:c,Slot:x,ItemSlot:u},g,r]}var Ke=i.createContext(void 0);function z(t){const o=i.useContext(Ke);return t||o||"ltr"}var k="rovingFocusGroup.onEntryFocus",Ve={bubbles:!1,cancelable:!0},M="RovingFocusGroup",[L,Q,Ue]=Ge(M),[$e,J]=O(M,[Ue]),[Be,He]=$e(M),W=i.forwardRef((t,o)=>e.jsx(L.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(L.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Ye,{...t,ref:o})})}));W.displayName=M;var Ye=i.forwardRef((t,o)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:l,currentTabStopId:c,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:x,onEntryFocus:d,preventScrollOnEntryFocus:p=!1,...u}=t,g=i.useRef(null),j=D(o,g),a=z(l),[b=null,T]=Y({prop:c,defaultProp:m,onChange:x}),[f,v]=i.useState(!1),R=Ee(d),w=Q(n),A=i.useRef(!1),[be,V]=i.useState(0);return i.useEffect(()=>{const h=g.current;if(h)return h.addEventListener(k,R),()=>h.removeEventListener(k,R)},[R]),e.jsx(Be,{scope:n,orientation:r,dir:a,loop:s,currentTabStopId:b,onItemFocus:i.useCallback(h=>T(h),[T]),onItemShiftTab:i.useCallback(()=>v(!0),[]),onFocusableItemAdd:i.useCallback(()=>V(h=>h+1),[]),onFocusableItemRemove:i.useCallback(()=>V(h=>h-1),[]),children:e.jsx(S.div,{tabIndex:f||be===0?-1:0,"data-orientation":r,...u,ref:j,style:{outline:"none",...t.style},onMouseDown:C(t.onMouseDown,()=>{A.current=!0}),onFocus:C(t.onFocus,h=>{const ge=!A.current;if(h.target===h.currentTarget&&ge&&!f){const U=new CustomEvent(k,Ve);if(h.currentTarget.dispatchEvent(U),!U.defaultPrevented){const P=w().filter(y=>y.focusable),he=P.find(y=>y.active),je=P.find(y=>y.id===b),Te=[he,je,...P].filter(Boolean).map(y=>y.ref.current);ee(Te,p)}}A.current=!1}),onBlur:C(t.onBlur,()=>v(!1))})})}),X="RovingFocusGroupItem",Z=i.forwardRef((t,o)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:l,...c}=t,m=q(),x=l||m,d=He(X,n),p=d.currentTabStopId===x,u=Q(n),{onFocusableItemAdd:g,onFocusableItemRemove:j}=d;return i.useEffect(()=>{if(r)return g(),()=>j()},[r,g,j]),e.jsx(L.ItemSlot,{scope:n,id:x,focusable:r,active:s,children:e.jsx(S.span,{tabIndex:p?0:-1,"data-orientation":d.orientation,...c,ref:o,onMouseDown:C(t.onMouseDown,a=>{r?d.onItemFocus(x):a.preventDefault()}),onFocus:C(t.onFocus,()=>d.onItemFocus(x)),onKeyDown:C(t.onKeyDown,a=>{if(a.key==="Tab"&&a.shiftKey){d.onItemShiftTab();return}if(a.target!==a.currentTarget)return;const b=Qe(a,d.orientation,d.dir);if(b!==void 0){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;a.preventDefault();let f=u().filter(v=>v.focusable).map(v=>v.ref.current);if(b==="last")f.reverse();else if(b==="prev"||b==="next"){b==="prev"&&f.reverse();const v=f.indexOf(a.currentTarget);f=d.loop?Je(f,v+1):f.slice(v+1)}setTimeout(()=>ee(f))}})})})});Z.displayName=X;var qe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ze(t,o){return o!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Qe(t,o,n){const r=ze(t.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return qe[r]}function ee(t,o=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:o}),document.activeElement!==n))return}function Je(t,o){return t.map((n,r)=>t[(o+r)%t.length])}var We=W,Xe=Z,G="Tabs",[Ze,vt]=O(G,[J]),te=J(),[et,K]=Ze(G),oe=i.forwardRef((t,o)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:l,orientation:c="horizontal",dir:m,activationMode:x="automatic",...d}=t,p=z(m),[u,g]=Y({prop:r,onChange:s,defaultProp:l});return e.jsx(et,{scope:n,baseId:q(),value:u,onValueChange:g,orientation:c,dir:p,activationMode:x,children:e.jsx(S.div,{dir:p,"data-orientation":c,...d,ref:o})})});oe.displayName=G;var ne="TabsList",re=i.forwardRef((t,o)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,l=K(ne,n),c=te(n);return e.jsx(We,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:e.jsx(S.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:o})})});re.displayName=ne;var se="TabsTrigger",ae=i.forwardRef((t,o)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...l}=t,c=K(se,n),m=te(n),x=le(c.baseId,r),d=de(c.baseId,r),p=r===c.value;return e.jsx(Xe,{asChild:!0,...m,focusable:!s,active:p,children:e.jsx(S.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":d,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:x,...l,ref:o,onMouseDown:C(t.onMouseDown,u=>{!s&&u.button===0&&u.ctrlKey===!1?c.onValueChange(r):u.preventDefault()}),onKeyDown:C(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&c.onValueChange(r)}),onFocus:C(t.onFocus,()=>{const u=c.activationMode!=="manual";!p&&!s&&u&&c.onValueChange(r)})})})});ae.displayName=se;var ie="TabsContent",ce=i.forwardRef((t,o)=>{const{__scopeTabs:n,value:r,forceMount:s,children:l,...c}=t,m=K(ie,n),x=le(m.baseId,r),d=de(m.baseId,r),p=r===m.value,u=i.useRef(p);return i.useEffect(()=>{const g=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(g)},[]),e.jsx(Ae,{present:s||p,children:({present:g})=>e.jsx(S.div,{"data-state":p?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":x,hidden:!g,id:d,tabIndex:0,...c,ref:o,style:{...t.style,animationDuration:u.current?"0s":void 0},children:g&&l})})});ce.displayName=ie;function le(t,o){return`${t}-trigger-${o}`}function de(t,o){return`${t}-content-${o}`}var tt=oe,ue=re,fe=ae,me=ce;const ot=tt,pe=i.forwardRef(({className:t,...o},n)=>e.jsx(ue,{ref:n,className:_("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground",t),...o}));pe.displayName=ue.displayName;const ve=i.forwardRef(({className:t,...o},n)=>e.jsx(fe,{ref:n,className:_("inline-flex items-center justify-center whitespace-nowrap rounded-sm h-full px-3 py-1.5 text-sm font-normal ring-offset-background transition-all border-b-[3px] border-transparent focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:border-b-pry-clr data-[state=active]:text-foreground data-[state=active]:font-semibold",t),...o}));ve.displayName=fe.displayName;const xe=i.forwardRef(({className:t,...o},n)=>e.jsx(me,{ref:n,className:_("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...o}));xe.displayName=me.displayName;function nt(){return e.jsx("div",{children:"CustomText"})}function rt(){return e.jsx("div",{children:"AudioUpload"})}function st(){return e.jsx("div",{children:"Form"})}const at=Ce("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function H({className:t,variant:o,...n}){return e.jsx("div",{className:_(at({variant:o}),t),...n})}function it({users:t}){const o=ye(),n=s=>{navigator.clipboard&&navigator.clipboard.writeText(s).then(()=>E.success("Link copied to clipboard",{id:"copyToast"}))},r=async s=>{const l=localStorage.getItem("business_id")||"",c=JSON.parse(l),m=E.loading("Revoking Access",{id:"revokeToast"});await we.put(`/revoke-access/${s}/`).then(()=>{E.success("Campaign access revoked",{id:m}),o.invalidateQueries({queryKey:["Roles",c]})}).catch(()=>{E.error("Something went wrong. Please retry",{id:m})})};return(t==null?void 0:t.length)>0?e.jsxs(_e,{children:[e.jsx(Me,{children:e.jsxs(B,{children:[e.jsx(N,{}),e.jsx(N,{children:"Email"}),e.jsx(N,{children:"Campaign"}),e.jsx(N,{children:"Sent Time"}),e.jsx(N,{children:"Access Code"}),e.jsx(N,{children:"Action"})]})}),e.jsx(Pe,{children:t.map((s,l)=>e.jsxs(B,{children:[e.jsx(F,{children:e.jsx("div",{className:`w-2 h-2 rounded-full ${s.has_access?"bg-green-500":"bg-red-500"}`})}),e.jsx(F,{children:s.email}),e.jsx(F,{children:s.campaign}),e.jsx(F,{children:Ie(s.sent_time).format("DD MMM YYYY, HH:MMa")}),e.jsx(F,{children:s.access_code}),e.jsx(F,{children:e.jsxs(ke,{children:[e.jsx(De,{className:"h-auto p-2 w-auto rounded-md text-inherit hover:bg-gray-200",children:e.jsx(Le,{})}),e.jsxs(Oe,{className:"bg-white rounded-md p-2 flex flex-col gap-2 border-[1px] border-neutral-light-clr max-w-max",children:[e.jsx(H,{variant:"outline",className:"font-normal cursor-pointer hover:bg-black hover:text-white hover:border-transparent justify-center",onClick:()=>n(s.link),children:"Copy Link"}),s.has_access&&e.jsx(H,{variant:"outline",className:"font-normal cursor-pointer hover:bg-red-600 hover:text-white hover:border-transparent justify-center",onClick:()=>r(s.id),children:"Revoke Access"})]})]})})]},l))})]}):e.jsx(Re,{})}function ct(){const{isLoading:t,data:o}=Ne();return t?e.jsx("div",{className:"w-full h-[200px] py-10 flex items-center justify-center bg-white rounded-2xl",children:e.jsx(Fe,{})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"rounded-2xl bg-white p-4 mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("span",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:"Team Overview"}),e.jsx("p",{children:"This is a list of all team members currently onboarded on the platform"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsx("p",{className:"text-xs",children:"Access Granted"})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),e.jsx("p",{className:"text-xs",children:"Access Revoked"})]})]})]}),e.jsx("div",{children:e.jsx(it,{users:o})})]})})}function xt(){const t=[{value:"text",text:"Custom Text Body",component:e.jsx(nt,{})},{value:"audio",text:"Upload Audio Recording",component:e.jsx(rt,{})},{value:"form",text:"Contact Form",component:e.jsx(st,{})},{value:"roles",text:"Roles and Permissions",component:e.jsx(ct,{})}];return e.jsxs(e.Fragment,{children:[e.jsx(Se,{title:"Settings",subtitle:"Customize platform to suit your needs"}),e.jsxs(ot,{defaultValue:"text",className:"w-full",children:[e.jsx(pe,{className:"w-full bg-transparent border-b-[1px] border-gray-400 rounded-none mb-6",children:t.map((o,n)=>e.jsx(ve,{value:o.value,className:"w-full rounded-none text-[16px]",children:o.text},n))}),t.map((o,n)=>e.jsx(xe,{value:o.value,children:o.component},n))]})]})}export{xt as default};
