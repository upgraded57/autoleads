import{r as a,j as t,R,b as G,m as Re,h as Ie,B as Y,E as we,_ as F,s as Ne,t as Ee,e as Se,l as Ae}from"./index-e-UFtOUC.js";import{u as W,c as T,a as q,P as Fe}from"./Combination-BgG73cBh.js";import{b as _e,c as V,d as D,u as Pe,P as S}from"./index-CJ8OMbQp.js";import{T as Me,a as De,b as z,c as N,d as ke,e as E}from"./table-CQZEcfDi.js";import{H as Oe}from"./index-rHkD9Ve4.js";import{P as Le,a as Ge,b as Ve}from"./popover-qKfd6OnR.js";import"./index-ciowWXAl.js";import"./floating-ui.react-dom-YN4Fy7vO.js";var k=a.forwardRef((e,o)=>{const{children:n,...r}=e,s=a.Children.toArray(n),i=s.find(Be);if(i){const c=i.props.children,u=s.map(p=>p===i?a.Children.count(c)>1?a.Children.only(null):a.isValidElement(c)?c.props.children:null:p);return t.jsx(O,{...r,ref:o,children:a.isValidElement(c)?a.cloneElement(c,void 0,u):null})}return t.jsx(O,{...r,ref:o,children:n})});k.displayName="Slot";var O=a.forwardRef((e,o)=>{const{children:n,...r}=e;if(a.isValidElement(n)){const s=$e(n);return a.cloneElement(n,{...Ue(r,n.props),ref:o?_e(o,s):s})}return a.Children.count(n)>1?a.Children.only(null):null});O.displayName="SlotClone";var Ke=({children:e})=>t.jsx(t.Fragment,{children:e});function Be(e){return a.isValidElement(e)&&e.type===Ke}function Ue(e,o){const n={...o};for(const r in o){const s=e[r],i=o[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{i(...u),s(...u)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function $e(e){var r,s;let o=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=o&&"isReactWarning"in o&&o.isReactWarning;return n?e.ref:(o=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=o&&"isReactWarning"in o&&o.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function He(e){const o=e+"CollectionProvider",[n,r]=V(o),[s,i]=n(o,{collectionRef:{current:null},itemMap:new Map}),c=j=>{const{scope:l,children:b}=j,C=R.useRef(null),m=R.useRef(new Map).current;return t.jsx(s,{scope:l,itemMap:m,collectionRef:C,children:b})};c.displayName=o;const u=e+"CollectionSlot",p=R.forwardRef((j,l)=>{const{scope:b,children:C}=j,m=i(u,b),v=D(l,m.collectionRef);return t.jsx(k,{ref:v,children:C})});p.displayName=u;const d=e+"CollectionItemSlot",x="data-radix-collection-item",f=R.forwardRef((j,l)=>{const{scope:b,children:C,...m}=j,v=R.useRef(null),I=D(l,v),w=i(d,b);return R.useEffect(()=>(w.itemMap.set(v,{ref:v,...m}),()=>void w.itemMap.delete(v))),t.jsx(k,{[x]:"",ref:I,children:C})});f.displayName=d;function g(j){const l=i(e+"CollectionConsumer",j);return R.useCallback(()=>{const C=l.collectionRef.current;if(!C)return[];const m=Array.from(C.querySelectorAll(`[${x}]`));return Array.from(l.itemMap.values()).sort((w,A)=>m.indexOf(w.ref.current)-m.indexOf(A.ref.current))},[l.collectionRef,l.itemMap])}return[{Provider:c,Slot:p,ItemSlot:f},g,r]}var Ye=a.createContext(void 0);function Q(e){const o=a.useContext(Ye);return e||o||"ltr"}var M="rovingFocusGroup.onEntryFocus",ze={bubbles:!1,cancelable:!0},_="RovingFocusGroup",[L,J,We]=He(_),[qe,Z]=V(_,[We]),[Qe,Je]=qe(_),X=a.forwardRef((e,o)=>t.jsx(L.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(L.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ze,{...e,ref:o})})}));X.displayName=_;var Ze=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:d,preventScrollOnEntryFocus:x=!1,...f}=e,g=a.useRef(null),j=D(o,g),l=Q(i),[b=null,C]=W({prop:c,defaultProp:u,onChange:p}),[m,v]=a.useState(!1),I=Pe(d),w=J(n),A=a.useRef(!1),[he,$]=a.useState(0);return a.useEffect(()=>{const h=g.current;if(h)return h.addEventListener(M,I),()=>h.removeEventListener(M,I)},[I]),t.jsx(Qe,{scope:n,orientation:r,dir:l,loop:s,currentTabStopId:b,onItemFocus:a.useCallback(h=>C(h),[C]),onItemShiftTab:a.useCallback(()=>v(!0),[]),onFocusableItemAdd:a.useCallback(()=>$(h=>h+1),[]),onFocusableItemRemove:a.useCallback(()=>$(h=>h-1),[]),children:t.jsx(S.div,{tabIndex:m||he===0?-1:0,"data-orientation":r,...f,ref:j,style:{outline:"none",...e.style},onMouseDown:T(e.onMouseDown,()=>{A.current=!0}),onFocus:T(e.onFocus,h=>{const je=!A.current;if(h.target===h.currentTarget&&je&&!m){const H=new CustomEvent(M,ze);if(h.currentTarget.dispatchEvent(H),!H.defaultPrevented){const P=w().filter(y=>y.focusable),Ce=P.find(y=>y.active),Te=P.find(y=>y.id===b),ye=[Ce,Te,...P].filter(Boolean).map(y=>y.ref.current);oe(ye,x)}}A.current=!1}),onBlur:T(e.onBlur,()=>v(!1))})})}),ee="RovingFocusGroupItem",te=a.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,...c}=e,u=q(),p=i||u,d=Je(ee,n),x=d.currentTabStopId===p,f=J(n),{onFocusableItemAdd:g,onFocusableItemRemove:j}=d;return a.useEffect(()=>{if(r)return g(),()=>j()},[r,g,j]),t.jsx(L.ItemSlot,{scope:n,id:p,focusable:r,active:s,children:t.jsx(S.span,{tabIndex:x?0:-1,"data-orientation":d.orientation,...c,ref:o,onMouseDown:T(e.onMouseDown,l=>{r?d.onItemFocus(p):l.preventDefault()}),onFocus:T(e.onFocus,()=>d.onItemFocus(p)),onKeyDown:T(e.onKeyDown,l=>{if(l.key==="Tab"&&l.shiftKey){d.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const b=tt(l,d.orientation,d.dir);if(b!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||l.shiftKey)return;l.preventDefault();let m=f().filter(v=>v.focusable).map(v=>v.ref.current);if(b==="last")m.reverse();else if(b==="prev"||b==="next"){b==="prev"&&m.reverse();const v=m.indexOf(l.currentTarget);m=d.loop?ot(m,v+1):m.slice(v+1)}setTimeout(()=>oe(m))}})})})});te.displayName=ee;var Xe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function et(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function tt(e,o,n){const r=et(e.key,n);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Xe[r]}function oe(e,o=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:o}),document.activeElement!==n))return}function ot(e,o){return e.map((n,r)=>e[(o+r)%e.length])}var nt=X,rt=te,K="Tabs",[st,yt]=V(K,[Z]),ne=Z(),[at,B]=st(K),re=a.forwardRef((e,o)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:c="horizontal",dir:u,activationMode:p="automatic",...d}=e,x=Q(u),[f,g]=W({prop:r,onChange:s,defaultProp:i});return t.jsx(at,{scope:n,baseId:q(),value:f,onValueChange:g,orientation:c,dir:x,activationMode:p,children:t.jsx(S.div,{dir:x,"data-orientation":c,...d,ref:o})})});re.displayName=K;var se="TabsList",ae=a.forwardRef((e,o)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=B(se,n),c=ne(n);return t.jsx(nt,{asChild:!0,...c,orientation:i.orientation,dir:i.dir,loop:r,children:t.jsx(S.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:o})})});ae.displayName=se;var ie="TabsTrigger",ce=a.forwardRef((e,o)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,c=B(ie,n),u=ne(n),p=de(c.baseId,r),d=fe(c.baseId,r),x=r===c.value;return t.jsx(rt,{asChild:!0,...u,focusable:!s,active:x,children:t.jsx(S.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":d,"data-state":x?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:p,...i,ref:o,onMouseDown:T(e.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?c.onValueChange(r):f.preventDefault()}),onKeyDown:T(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&c.onValueChange(r)}),onFocus:T(e.onFocus,()=>{const f=c.activationMode!=="manual";!x&&!s&&f&&c.onValueChange(r)})})})});ce.displayName=ie;var le="TabsContent",ue=a.forwardRef((e,o)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...c}=e,u=B(le,n),p=de(u.baseId,r),d=fe(u.baseId,r),x=r===u.value,f=a.useRef(x);return a.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),t.jsx(Fe,{present:s||x,children:({present:g})=>t.jsx(S.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!g,id:d,tabIndex:0,...c,ref:o,style:{...e.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});ue.displayName=le;function de(e,o){return`${e}-trigger-${o}`}function fe(e,o){return`${e}-content-${o}`}var it=re,me=ae,pe=ce,xe=ue;const ct=it,ve=a.forwardRef(({className:e,...o},n)=>t.jsx(me,{ref:n,className:G("inline-flex h-10 items-center justify-center rounded-md bg-muted text-muted-foreground",e),...o}));ve.displayName=me.displayName;const be=a.forwardRef(({className:e,...o},n)=>t.jsx(pe,{ref:n,className:G("inline-flex items-center justify-center whitespace-nowrap rounded-sm h-full px-3 py-1.5 text-sm font-normal ring-offset-background transition-all border-b-[3px] border-transparent focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:border-b-pry-clr data-[state=active]:text-foreground data-[state=active]:font-semibold",e),...o}));be.displayName=pe.displayName;const ge=a.forwardRef(({className:e,...o},n)=>t.jsx(xe,{ref:n,className:G("mt-2 ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...o}));ge.displayName=xe.displayName;function U(){return t.jsx("div",{className:"w-full h-full p-20 flex items-center justify-center bg-white rounded-xl",children:t.jsx("p",{className:"text-sm",children:"There's nothing to see here yet!"})})}function lt(){return t.jsx(U,{})}function ut(){return t.jsx(U,{})}function dt(){return t.jsx(U,{})}function ft({users:e}){const o=Re(),n=s=>{navigator.clipboard&&navigator.clipboard.writeText(s).then(()=>F.success("Link copied to clipboard",{id:"copyToast"}))},r=async s=>{const i=localStorage.getItem("business_id")||"",c=JSON.parse(i),u=F.loading("Revoking Access",{id:"revokeToast"});await Ne.put(`/revoke-access/${s}/`).then(()=>{F.success("Campaign access revoked",{id:u}),o.invalidateQueries({queryKey:["Roles",c]})}).catch(()=>{F.error("Something went wrong. Please retry",{id:u})})};return(e==null?void 0:e.length)>0?t.jsxs(Me,{children:[t.jsx(De,{children:t.jsxs(z,{children:[t.jsx(N,{}),t.jsx(N,{children:"Email"}),t.jsx(N,{children:"Campaign"}),t.jsx(N,{children:"Sent Time"}),t.jsx(N,{children:"Access Code"}),t.jsx(N,{children:"Action"})]})}),t.jsx(ke,{children:e.map((s,i)=>t.jsxs(z,{children:[t.jsx(E,{children:t.jsx("div",{className:`w-2 h-2 rounded-full ${s.has_access?"bg-green-500":"bg-red-500"}`})}),t.jsx(E,{children:s.email}),t.jsx(E,{children:s.campaign}),t.jsx(E,{children:Ie(s.sent_time).format("DD MMM YYYY, HH:MMa")}),t.jsx(E,{children:s.access_code}),t.jsx(E,{children:t.jsxs(Le,{children:[t.jsx(Ge,{className:"h-auto p-2 w-auto rounded-md text-inherit hover:bg-gray-200",children:t.jsx(Oe,{})}),t.jsxs(Ve,{className:"bg-white rounded-md flex flex-col gap-2 max-w-max",children:[t.jsx(Y,{variant:"outline",size:"sm",className:"font-normal cursor-pointer",onClick:()=>n(s.link),children:"Copy Link"}),s.has_access&&t.jsx(Y,{variant:"outline",size:"sm",className:"font-normal cursor-pointer hover:bg-red-600 hover:text-white hover:border-transparent justify-center",onClick:()=>r(s.id),children:"Revoke Access"})]})]})})]},i))})]}):t.jsx(we,{})}function mt(){const{isLoading:e,data:o}=Ee();return e?t.jsx("div",{className:"w-full h-[200px] py-10 flex items-center justify-center bg-white rounded-2xl",children:t.jsx(Se,{})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"rounded-2xl bg-white p-4 mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-6",children:[t.jsxs("span",{children:[t.jsx("h3",{className:"font-semibold text-lg",children:"Team Overview"}),t.jsx("p",{className:"text-sm",children:"This is a list of all team members currently onboarded on the platform"})]}),t.jsxs("div",{className:"pr-4",children:[t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full"}),t.jsx("p",{className:"text-xs",children:"Access Granted"})]}),t.jsxs("div",{className:"flex gap-2 items-center",children:[t.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full"}),t.jsx("p",{className:"text-xs",children:"Access Revoked"})]})]})]}),t.jsx("div",{children:t.jsx(ft,{users:o})})]})})}function Rt(){const e=[{value:"roles",text:"Roles and Permissions",component:t.jsx(mt,{})},{value:"text",text:"Custom Text Body",component:t.jsx(lt,{})},{value:"audio",text:"Upload Audio Recording",component:t.jsx(ut,{})},{value:"form",text:"Contact Form",component:t.jsx(dt,{})}];return t.jsxs(t.Fragment,{children:[t.jsx(Ae,{title:"Settings",subtitle:"Customize platform to suit your needs"}),t.jsxs(ct,{defaultValue:"roles",className:"w-full",children:[t.jsx(ve,{className:"w-full bg-transparent border-b-[1px] border-gray-400 rounded-none mb-6",children:e.map((o,n)=>t.jsx(be,{value:o.value,className:"w-full rounded-none text-[16px]",children:o.text},n))}),e.map((o,n)=>t.jsx(ge,{value:o.value,children:o.component},n))]})]})}export{Rt as default};
